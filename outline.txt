Python GUI application using QT6, for the purposes of utilizing "diffractsim" library graphically. 
The app should consist of three scripts: main.py, gui.py, and engine.py. main is responsible for launching the gui, gui is the frontend facing the user, and engine in the backend, to which all actual calculation requests will be sent. 

A mockup of the  app's layout can be found in "Mockup Main Window.png" and "Mockup Optical vis.png", but a short summary is:
- Menu bar (Toolbar)
  |-- File
  |   |-- New
  |   |-- Save
  |   |-- Load
  |-- Edit
  |   |-- Options
  |-- Help
  |   |-- Help
  |   |-- About
- Tab window - separated by a resizable split container (Working area with tabs on top, to switch workspaces, children are of such a tab)
  |-- working area, with values to enter, and two large image containers separated by a split container (resizable), a solve button under each image
  
TODO:
FEAT - add fifth column (another value)
     - for lens it is convex / concave -> manage automatically with negative f values
     - for aperatures it is inverted or not, and a second radio between all other aperatures - is this unknown -> reverse propagation
     - for screens first value is is it range or single
     - for screens second value is two numbers: length, and interval between screens

MISC - resizing while calculating images hides "calculating" and shows previous image (pr text)
     - make polychromatic selection text unavailable
     - some numberfield should allow for zero values
     - numberfields with a non zero minimum should jump to a whole integer from minimum value (eg. 0.01 -> 1, not 0.01 -> 1.01)
     - possibly add an option to use relative distances instead of placement - Add moving arrows to elements
     - right clicking woekspace name should show contextmenu
     - fix table coolumn width annoyance -> use qsettings save geometry
     - element nme change should be in sync wit hthe add element naming system (numbering)
     - MAKE PHYS VIS SETUP SCRIPT MORE CONCISE, REMOVE BLOAT
     - simulation should not run when aperture with empty path is present
     - preferences window should close when main window is closed


AI Model experience:
- GPT 4.1 (free model) adequate, can code with very strict and explicit instructions
- Sonnet 4.5 (paid) Limited usage, due to frequent slowdowns / loops. For every edit it goes aroud multiple times for a file, always forgetting newlines. Maybe Python language issue? Creates lots of files, tries to run cmd scripts, even if explicitly told not to.
- GPT 5 (paid) Slow, sometimes takes really long, not too verbose with every step its doing. Usually manages to solve the query, doesnt generate infinite files. Just invisible (positive)

GUI tests in order:
- create new workspace and rename it to TESTING_TAB_NAME. Close old default workspace (Workspace 1). Check if right tab remained open, and only one
- change field type, wavelength, extents, resolution. check whether all of them changed to their respective DEFAULT values
- add an aperture, a lens, and a screen, then one-by-one delete them
- add an aperture, a lens, and a screen, then delete them all at once by selecting them with their table index
- add an aperture, rename it to fzpelem, change distance to 0.01, change image to "\â™¥aperatures\20250320 00_11_58 manual pattern.png"
- add lens, rename it to gyujto, change distance to 3, change focus to 800
- add screen, rename it to lemezkep, change distance to 0.01
- add screen, rename to lencsekep, change distance to 1000
- add screen, rename to kep, change distance to 1000, delete screen lencsekep
- load Scene_1 into memory, check if all elements and system parameters match 
- add an aperture, rename it to white, set distance to 0.01. add a lens named fokusz, distance 0.01, focal length 30. add a screen named initial distance 0.01. add a screen named logitudinal distance from 1 to 100 in 15 steps. rename workspace to Generated_1 and save (overwrite if necessary). check if exported json matches manually prepared one (Scene_2)
- click solve button under screen

Preferences:
+ Auto open new workspace when last is closed
+ ask before closing workspaces
+ display confirmation os saving workspaces
+ enable scrollwheel in elements table to modify dropboxes and spinboxes
+ select all text when clicking into inputfield
+ change element name when changing its type (only if name is the default generated one)
+ warn before deleting elements
+ use relative paths
+ default distance between elements when adding them to the table
